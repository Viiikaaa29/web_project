"use strict";function Component(e,a,t,r,s){this.type=s,this.radius=e,this.x=t,this.y=r,this.speedX=0,this.speedY=0,this.gravity=.1,this.gravitySpeed=0,this.bounce=.6,this.color=a,this.update=function(){var e=myGameArea.context;e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.fill()},this.newPos=function(){this.gravitySpeed+=this.gravity,this.x+=this.speedX,this.y+=this.speedY+this.gravitySpeed,this.hitBottom()},this.hitBottom=function(){var e=myGameArea.canvas.height-this.radius;this.y>e&&(this.y=e,this.gravitySpeed=-this.gravitySpeed*this.bounce)},this.crashWith=function(e){var a=this.x-e.x,t=this.y-e.y;return Math.sqrt(a*a+t*t)<this.radius+e.radius}}var myBall,myGameArea={canvas:document.getElementById("myCanvas"),start:function(){this.context=this.canvas.getContext("2d"),this.frameNo=0,this.score=0,this.bestScores=JSON.parse(localStorage.getItem("bestScores"))||[],this.interval=setInterval(updateGameArea,20),window.addEventListener("keydown",function(e){e.preventDefault(),myGameArea.keys=myGameArea.keys||[],myGameArea.keys[e.keyCode]=!0}),window.addEventListener("keyup",function(e){myGameArea.keys[e.keyCode]=!1})},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},stop:function(){clearInterval(this.interval)},updateBestScores:function(){this.bestScores.push(this.score),this.bestScores.sort(function(e,a){return a-e}),this.bestScores=this.bestScores.slice(0,3),localStorage.setItem("bestScores",JSON.stringify(this.bestScores))}},myBalls=[];function startGame(){myGameArea.start(),myBall=new Component(15,"red",10,120)}function updateGameArea(){if(myGameArea.clear(),myGameArea.frameNo+=1,1===myGameArea.frameNo||everyinterval(150)){var e=myGameArea.canvas.width,a=Math.floor(Math.random()*myGameArea.canvas.height),t=10,r=20,s=Math.floor(Math.random()*(r-t+1))+t;Math.floor(4*Math.random());myBalls.push(new Component(s,"blue",e,a,"ball"))}if(everyinterval(200)){e=myGameArea.canvas.width,a=Math.floor(Math.random()*myGameArea.canvas.height),t=10,r=20,s=Math.floor(Math.random()*(r-t+1))+t,Math.floor(4*Math.random());myBalls.push(new Component(s,"red",e,a,"obstacle"))}for(var i=0;i<myBalls.length;i++)myBalls[i].x-=1,myBalls[i].update();myBall.speedX=0,myBall.speedY=0,myGameArea.keys&&(myGameArea.keys[37]||myGameArea.keys[65])&&(myBall.speedX=-4),myGameArea.keys&&(myGameArea.keys[39]||myGameArea.keys[68])&&(myBall.speedX=4),myGameArea.keys&&(myGameArea.keys[38]||myGameArea.keys[87])&&(myBall.gravitySpeed=-4),myGameArea.keys&&(myGameArea.keys[40]||myGameArea.keys[83])&&(myBall.gravitySpeed=4),myBall.newPos(),myBall.update(),checkGameOver(),updateScore()}function everyinterval(e){return myGameArea.frameNo/e%1==0}function checkGameOver(){for(var e=0;e<myBalls.length;e++)if(myBall.crashWith(myBalls[e])){if("red"===myBalls[e].color)return myGameArea.updateBestScores(),alert("Game Over"),myGameArea.clear(),void myGameArea.stop();myGameArea.score+=10,myBalls.splice(e,1);break}}function updateScore(){var e=document.getElementById("stats");e.innerHTML="",e.innerHTML+="<div>Score: "+myGameArea.score+"</div>",e.innerHTML+="<div>Best Scores:</div>";for(var a=0;a<myGameArea.bestScores.length;a++)e.innerHTML+="<div>"+(a+1)+". "+myGameArea.bestScores[a]+"</div>";var t=myGameArea.bestScores.slice();t.sort(function(e,a){return e-a}),t=t.slice(0,3),e.innerHTML+="<div>Worst Scores:</div>";for(a=0;a<t.length;a++)e.innerHTML+="<div>"+(a+1)+". "+t[a]+"</div>"}startGame();
//# sourceMappingURL=script.min.js.map
